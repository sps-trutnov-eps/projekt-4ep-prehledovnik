<!doctype html>
<%- include('partials/head'); %>

    <style>
        #doc {
            max-width: 90ch;
            margin-inline: auto;

            h1, h2, h3, h4, h5 {
                text-align: center;
            }
        }

        #cat {
            display: block;
            margin-inline: auto;
            margin-top: 2em;
        }

    </style>
<article style="flex: 3;">
    <main>
        <div id="doc">
            <%- doc %>
        </div>
        <img id="cat" style="display: none; object-fit: contain; max-height: 100%;" 
             src="https://cataas.com/cat/says/P%C5%99ehledovn%C3%ADk?fontColor=orange&fontSize=64" 
             alt="P≈ôehledovn√≠k">
    </main>
</article>

<script>
    (function () {
        let command = "";
        const secret = "meow";
        const docElement = document.getElementById("doc");

        document.addEventListener("keydown", (event) => {
            command += event.key.toLowerCase();
            if (!secret.startsWith(command)) {
                command = ""; // Reset p≈ôi ≈°patn√©m zad√°n√≠
            }
            if (command === secret) {
                console.log("üê± Meow! P≈ôehledovn√≠k je teƒè jen o koƒçk√°ch!");

                // Ulo≈æ√≠ p≈Øvodn√≠ obsah #doc, aby se mohl vr√°tit po reloadu
                localStorage.setItem("originalDoc", docElement.innerHTML);

                // Nahrad√≠ obsah #doc obr√°zkem koƒçky
                docElement.innerHTML = `
                    <div style="display: flex; justify-content: center; align-items: center;">
                        <img src="https://cataas.com/cat/says/Meow!" style="max-width: 100%; max-height: 100%;" alt="Meow!">
                    </div>
                `;

                command = ""; // Reset p≈ô√≠kazu
            }
        });

        // P≈ôi reloadu str√°nky obnov√≠ p≈Øvodn√≠ obsah #doc
        window.addEventListener("load", () => {
            const originalContent = localStorage.getItem("originalDoc");
            if (originalContent) {
                docElement.innerHTML = originalContent;
                localStorage.removeItem("originalDoc"); // Po obnoven√≠ sma≈æe ulo≈æen√Ω obsah
            }
        });
    })();
</script>

  
<%- include('partials/tail') %>